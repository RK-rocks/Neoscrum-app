{"remainingRequest":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/home/FeedBack.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/home/FeedBack.vue","mtime":1592211922414},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKLy8gaW1wb3J0IHsgZW52aXJvbm1lbnQgfSBmcm9tICIuLi8uLi9lbnZpcm9ubWVudHMvZW52aXJvbm1lbnQudHMiOwppbXBvcnQgRGFzaGJvYXJkU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9kYXNoYm9hcmQuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmVlZGJhY2s6ICIiLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBiYXNlVXJsOiAiIiwKICAgICAgRGFzaGJvYXJkU2VydmljZTogbmV3IERhc2hib2FyZFNlcnZpY2UoKQogICAgfTsKICB9LAogIG5hbWU6ICJGZWVkYmFjayIsCiAgcHJvcHM6IFsiZmVlZEJhY2tEYXRhIl0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIGZlZWRiYWNrOiB7CiAgICAgIHJlcXVpcmVkCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBhZGRGZWVkQmFjayhpZCwgZmVlZGJhY2spIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhpZCwgZmVlZGJhY2spOwoKICAgICAgbGV0IG9iaiA9IHsKICAgICAgICByZWNlaXZlcl9pZDogaWQsCiAgICAgICAgZmVlZGJhY2tfZGF0YTogZmVlZGJhY2sKICAgICAgfTsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuRGFzaGJvYXJkU2VydmljZS5hZGRGZWVkQmFjayhvYmopLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlOwogICAgICAgIGlmICh0aGlzLmVycm9yLmRhdGEuc3VjY2VzcyA9PSAiZmFsc2UiKSB7CiAgICAgICAgICBhbGVydCh0aGlzLmVycm9yLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzID09ICJ0cnVlIikgewogICAgICAgIGFsZXJ0KHJlc3VsdC5kYXRhLm1lc3NhZ2UpOwogICAgICAgIHRoaXMuZmVlZGJhY2sgPSAiIjsKICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLmJhc2VVcmwgPSBlbnZpcm9ubWVudC5hcGlVcmw7CiAgfQp9Owo="},{"version":3,"sources":["FeedBack.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FeedBack.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div>\n    <div class=\"card\" :key=\"feedBackData.receiver_id\">\n      <img\n        class=\"card-img-top mt-3\"\n        width=\"30px\"\n        alt=\"Receiver's image\"\n        :src=\"`${this.baseUrl}/${feedBackData.image_path}`\"\n      />\n      <div class=\"card-body\">\n        <form v-bind:key=\"feedBackData.receiver_id\">\n          <h5 class=\"card-title\">{{feedBackData.receiver_name}}</h5>\n          <textarea\n            :key=\"feedBackData.receiver_id\"\n            :id=\"feedBackData.receiver_id\"\n            class=\"card-text\"\n            v-model=\"feedback\"\n            :class=\"{ error: submitted && $v.feedback.$invalid }\"\n          ></textarea>\n          <div v-if=\"submitted\">\n            <div v-if=\"!$v.feedback.required\">\n              <p class=\"text-red text-left\">Feedback is required</p>\n            </div>\n          </div>\n          <button\n            class=\"btn btn-outline-success my-2 my-sm-0\"\n            :id=\"feedBackData.receiver_id\"\n            @click.prevent=\"addFeedBack(feedBackData.receiver_id, feedback)\"\n          >Send Feedback</button>\n\n          <p class=\"card-text\">\n            <small class=\"text-muted\">Your feedback is important!!</small>\n          </p>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required } from \"vuelidate/lib/validators\";\n// import { environment } from \"../../environments/environment.ts\";\nimport DashboardService from \"../../services/dashboard.service\";\nexport default {\n  data() {\n    return {\n      feedback: \"\",\n      submitted: false,\n      baseUrl: \"\",\n      DashboardService: new DashboardService()\n    };\n  },\n  name: \"Feedback\",\n  props: [\"feedBackData\"],\n  validations: {\n    feedback: {\n      required\n    }\n  },\n  methods: {\n    async addFeedBack(id, feedback) {\n      this.submitted = true;\n      if (this.$v.$invalid) {\n        return;\n      }\n      console.log(id, feedback);\n\n      let obj = {\n        receiver_id: id,\n        feedback_data: feedback\n      };\n      let result = await this.DashboardService.addFeedBack(obj).catch(error => {\n        console.log(error.response);\n        this.error = error.response;\n        if (this.error.data.success == \"false\") {\n          alert(this.error.data.message);\n        }\n      });\n\n      if (result.data.success == \"true\") {\n        alert(result.data.message);\n        this.feedback = \"\";\n        this.submitted = true;\n      }\n    }\n  },\n  mounted() {\n    // this.baseUrl = environment.apiUrl;\n  }\n};\n</script>\n\n<style scoped>\n.error {\n  border: 1px solid red;\n}\n.text-red {\n  color: red;\n}\n</style>"]}]}