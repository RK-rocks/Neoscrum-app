{"remainingRequest":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/babel-loader/lib/index.js!/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/auth/Login.vue","mtime":1592486768000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd2Vid2Vya3MvRG9jdW1lbnRzL1Z1ZWpzX1Z1ZXhfc3RhcnRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3dlYndlcmtzL0RvY3VtZW50cy9WdWVqc19WdWV4X3N0YXJ0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGggfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvYXV0aC5zZXJ2aWNlJzsKaW1wb3J0IExvY2FsU3RvcmFnZVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvbG9jYWxTdG9yYWdlLnNlcnZpY2UnOwppbXBvcnQgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcmVxT2JqOiB7fSwKICAgICAgdXJsOiAnJywKICAgICAgYXV0aFNlcnZpY2U6IG5ldyBBdXRoU2VydmljZSgpLAogICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlOiBuZXcgTG9jYWxTdG9yYWdlU2VydmljZSgpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgaXNMb2dpbjogJ2F1dGgvaXNMb2dpbicKICB9KSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJpbiBsb2dpbiBzdG9yZSBvYmplY3QiKTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ2F1dGgnLCBbJ2xvZ2luU3VjY2VzcycsICdsb2dvdXQnXSksIHsKICAgIGxvZ2luVXNlckZvcm06IGZ1bmN0aW9uIGxvZ2luVXNlckZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiBsb2dpbiBwYWdlIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5sb2dpblN1Y2Nlc3MpOwoKICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luU3VjY2VzcygpOwoKICAgICAgICAgICAgICAgIF90aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLnJlcU9iaiA9IHsKICAgICAgICAgICAgICAgICAgdXNlcl9lbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHVzZXJfcGFzczogX3RoaXMucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpcy51cmwgPSAnaHR0cDovLzE4MC4xNDkuMjQxLjIwODozMDAwL2xvZ2luJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF1dGhTZXJ2aWNlLnBvc3RSZXF1ZXN0KF90aGlzLnVybCwgX3RoaXMucmVxT2JqKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdWNjZXNzID09PSAnZmFsc2UnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMubG9jYWxTdG9yYWdlU2VydmljZS5zZXRUb2tlbihyZXMudG9rZW4pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5sb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldFRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICB0b2tlbiA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMubG9naW5TdWNjZXNzKHRva2VuKTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAvLyBsZXQgc2V0VG9rZW4gPSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMudG9rZW4pOwogICAgICAgICAgICAgICAgLy8gdmFyIGNpcGhlcnRleHQgPSBDcnlwdG9KUy5BRVMuZW5jcnlwdChyZXMudG9rZW4sICdzZWNyZXQga2V5IDEyMycpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjaXBoZXJ0ZXh0KQogICAgICAgICAgICAgICAgLy8gRGVjcnlwdAogICAgICAgICAgICAgICAgLy8gdmFyIGJ5dGVzICA9IENyeXB0b0pTLkFFUy5kZWNyeXB0KGNpcGhlcnRleHQsICdzZWNyZXQga2V5IDEyMycpOwogICAgICAgICAgICAgICAgLy8gdmFyIG9yaWdpbmFsVGV4dCA9IGJ5dGVzLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9yaWdpbmFsVGV4dCk7CgogICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aC9sb2dpblN1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjY7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDgpOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzgsIDI2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9KSwKICB2YWxpZGF0aW9uczogewogICAgZW1haWw6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KQogICAgfSwKICAgIHBhc3N3b3JkOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCkKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- eslint-disable -->\n  <div class=\"login-page pa50\">\n    <h1 class=\"heading\">\n      <label class=\"neo\">Neo</label>\n      <label class=\"scrum\">SCRUM</label>\n    </h1>\n    <div class=\"loginForm\">\n      <form @submit.prevent=\"loginUserForm\" class=\"shadow-lg p-3 mb-5 bg-white rounded loginForm\">\n        <fieldset>\n          <legend>User-login</legend>\n          <div class=\"form-group\">\n            <label for=\"uname\">Email:</label>\n            <input\n              :class=\"{ error: submitted && $v.email.$invalid }\"\n              type=\"email\"\n              v-model=\"email\"\n              class=\"form-control\"\n              id=\"uname\"\n              placeholder=\"Enter username\"\n              name=\"uname\"\n            />\n            <div v-if=\"submitted\">\n              <div v-if=\"!$v.email.required\">\n                <p class=\"text-red text-left\">Email is required</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"pwd\">Password:</label>\n            <input\n              :class=\"{ error: submitted && $v.password.$invalid }\"\n              v-model=\"password\"\n              type=\"password\"\n              class=\"form-control\"\n              id=\"pwd\"\n              placeholder=\"Enter password\"\n              name=\"pswd\"\n            />\n            <div v-if=\"submitted\">\n              <div v-if=\"!$v.password.required\">\n                <p class=\"text-red text-left\">Password is required</p>\n              </div>\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary mr10\">Login</button>\n          <a @click=\"$router.push('signup')\">Registration</a>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n  <!-- eslint-disable -->\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport { required, minLength } from 'vuelidate/lib/validators';\nimport AuthService from '../../services/auth.service';\nimport LocalStorageService from '../../services/localStorage.service';\nimport CryptoJS from 'crypto-js'\n\nexport default {\n  data() {\n    return {\n      submitted: false,\n      email: '',\n      password: '',\n      reqObj: {},\n      url: '',\n      authService: new AuthService(),\n      localStorageService : new LocalStorageService\n    };\n  },\n  computed: {\n    ...mapGetters({\n      isLogin: 'auth/isLogin'\n    })\n  },\n  created(){\n    console.log(\"in login store object\")\n    console.log(this.$store)\n  },\n  methods: {\n    ...mapActions('auth', ['loginSuccess', 'logout']),\n    async loginUserForm() {\n      console.log(\"in login page\")\n      console.log(this.loginSuccess)\n      this.loginSuccess();\n      this.submitted = true;\n      if (this.$v.$invalid) {\n        return;\n      }\n      this.reqObj = {\n        user_email: this.email,\n        user_pass: this.password\n      };\n      this.url = 'http://180.149.241.208:3000/login';\n      try {\n        const res = await this.authService.postRequest(this.url, this.reqObj);\n        console.log(res);\n        if (res.success === 'false') {\n          alert(res.message);\n        } else {\n          this.localStorageService.setToken(res.token)\n          let token = await this.localStorageService.getToken()\n          this.loginSuccess(token);\n          console.log(res);\n          // let setToken = localStorage.setItem('token', res.token);\n          // var ciphertext = CryptoJS.AES.encrypt(res.token, 'secret key 123').toString();\n          // console.log(ciphertext)\n\n\n          // Decrypt\n          // var bytes  = CryptoJS.AES.decrypt(ciphertext, 'secret key 123');\n          // var originalText = bytes.toString(CryptoJS.enc.Utf8);\n          // console.log(originalText);\n\n          if(localStorage.getItem('token')){\n            this.$store.dispatch('auth/loginSuccess');\n            this.$router.push('/');\n          }\n        }\n      } catch (error) {\n        alert(error.message);\n      }\n    },\n  },\n  validations: {\n    email: {\n      required,\n      minLength: minLength(4)\n    },\n    password: {\n      required,\n      minLength: minLength(4)\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views/auth"}]}