{"remainingRequest":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/babel-loader/lib/index.js!/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/home/FeedBack.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/src/views/home/FeedBack.vue","mtime":1592211858935},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/webwerks/Documents/Vuejs_Vuex_starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd2Vid2Vya3MvRG9jdW1lbnRzL1Z1ZWpzX1Z1ZXhfc3RhcnRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsgLy8gaW1wb3J0IHsgZW52aXJvbm1lbnQgfSBmcm9tICIuLi8uLi9lbnZpcm9ubWVudHMvZW52aXJvbm1lbnQudHMiOwoKaW1wb3J0IERhc2hib2FyZFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZXMvZGFzaGJvYXJkLnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZlZWRiYWNrOiAiIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgYmFzZVVybDogIiIsCiAgICAgIERhc2hib2FyZFNlcnZpY2U6IG5ldyBEYXNoYm9hcmRTZXJ2aWNlKCkKICAgIH07CiAgfSwKICBuYW1lOiAiRmVlZGJhY2siLAogIHByb3BzOiBbImZlZWRCYWNrRGF0YSJdLAogIHZhbGlkYXRpb25zOiB7CiAgICBmZWVkYmFjazogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEZlZWRCYWNrOiBmdW5jdGlvbiBhZGRGZWVkQmFjayhpZCwgZmVlZGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9iaiwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkLCBmZWVkYmFjayk7CiAgICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmVyX2lkOiBpZCwKICAgICAgICAgICAgICAgICAgZmVlZGJhY2tfZGF0YTogZmVlZGJhY2sKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5EYXNoYm9hcmRTZXJ2aWNlLmFkZEZlZWRCYWNrKG9iaikuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvci5kYXRhLnN1Y2Nlc3MgPT0gImZhbHNlIikgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KF90aGlzLmVycm9yLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzID09ICJ0cnVlIikgewogICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZmVlZGJhY2sgPSAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvLyB0aGlzLmJhc2VVcmwgPSBlbnZpcm9ubWVudC5hcGlVcmw7CiAgfQp9Ow=="},{"version":3,"sources":["FeedBack.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,QAAA,QAAA,0BAAA,C,CACA;;AACA,OAAA,gBAAA,MAAA,kCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,gBAAA,EAAA,IAAA,gBAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,IAAA,EAAA,UATA;AAUA,EAAA,KAAA,EAAA,CAAA,cAAA,CAVA;AAWA,EAAA,WAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA;AADA,GAXA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,EADA,EACA,QADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,IAAA;;AADA,qBAEA,KAAA,CAAA,EAAA,CAAA,QAFA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAKA,gBAAA,OAAA,CAAA,GAAA,CAAA,EAAA,EAAA,QAAA;AAEA,gBAAA,GAPA,GAOA;AACA,kBAAA,WAAA,EAAA,EADA;AAEA,kBAAA,aAAA,EAAA;AAFA,iBAPA;AAAA;AAAA,uBAWA,KAAA,CAAA,gBAAA,CAAA,WAAA,CAAA,GAAA,EAAA,KAAA,CAAA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA;;AACA,sBAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,IAAA,OAAA,EAAA;AACA,oBAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA;AACA,iBANA,CAXA;;AAAA;AAWA,gBAAA,MAXA;;AAmBA,oBAAA,MAAA,CAAA,IAAA,CAAA,OAAA,IAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAxBA,GAhBA;AA0CA,EAAA,OA1CA,qBA0CA,CACA;AACA;AA5CA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"card\" :key=\"feedBackData.receiver_id\">\n      <img\n        class=\"card-img-top mt-3\"\n        width=\"30px\"\n        alt=\"Receiver's image\"\n        :src=\"`${this.baseUrl}/${feedBackData.image_path}`\"\n      />\n      <div class=\"card-body\">\n        <form v-bind:key=\"feedBackData.receiver_id\">\n          <h5 class=\"card-title\">{{feedBackData.receiver_name}}</h5>\n          <textarea\n            :key=\"feedBackData.receiver_id\"\n            :id=\"feedBackData.receiver_id\"\n            class=\"card-text\"\n            v-model=\"feedback\"\n            :class=\"{ error: submitted && $v.feedback.$invalid }\"\n          ></textarea>\n          <div v-if=\"submitted\">\n            <div v-if=\"!$v.feedback.required\">\n              <p class=\"text-red text-left\">Feedback is required</p>\n            </div>\n          </div>\n          <button\n            class=\"btn btn-outline-success my-2 my-sm-0\"\n            :id=\"feedBackData.receiver_id\"\n            @click.prevent=\"addFeedBack(feedBackData.receiver_id, feedback)\"\n          >Send Feedback</button>\n\n          <p class=\"card-text\">\n            <small class=\"text-muted\">Your feedback is important!!</small>\n          </p>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required } from \"vuelidate/lib/validators\";\n// import { environment } from \"../../environments/environment.ts\";\nimport DashboardService from \"../../services/dashboard.service\";\nexport default {\n  data() {\n    return {\n      feedback: \"\",\n      submitted: false,\n      baseUrl: \"\",\n      DashboardService: new DashboardService()\n    };\n  },\n  name: \"Feedback\",\n  props: [\"feedBackData\"],\n  validations: {\n    feedback: {\n      required\n    }\n  },\n  methods: {\n    async addFeedBack(id, feedback) {\n      this.submitted = true;\n      if (this.$v.$invalid) {\n        return;\n      }\n      console.log(id, feedback);\n\n      let obj = {\n        receiver_id: id,\n        feedback_data: feedback\n      };\n      let result = await this.DashboardService.addFeedBack(obj).catch(error => {\n        console.log(error.response);\n        this.error = error.response;\n        if (this.error.data.success == \"false\") {\n          alert(this.error.data.message);\n        }\n      });\n\n      if (result.data.success == \"true\") {\n        alert(result.data.message);\n        this.feedback = \"\";\n      }\n    }\n  },\n  mounted() {\n    // this.baseUrl = environment.apiUrl;\n  }\n};\n</script>\n\n<style scoped>\n.error {\n  border: 1px solid red;\n}\n.text-red {\n  color: red;\n}\n</style>"],"sourceRoot":"src/views/home"}]}